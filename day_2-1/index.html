<!doctype html>
<html lang="en">

<head>
    <title>Advent of Code 2021</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
</head>

<body>
       <div class="container">
           <h1 class="mt-5">Advent of Code 2021</h1>
           <p class="lead">Day 2-1</p>
           <input type='file' id="input"accept='text/plain' onchange='openFile(event)'><br>
           <div>
                <p id="output">
                </p>
           </div>
       </div>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
    </script>
    <script>
        function solver(input) {
            let x = 0;
            let y = 0;
            input.forEach(movement => {
                if(movement[0] == 'forward') {
                    x += movement[1]
                    console.log('moving forward ',movement[1],' spaces!')
                }
                else if (movement[0] =='down') {
                    y += movement[1]
                    console.log('moving down ',movement[1],' spaces!')
                }
                else if (movement[0] =='up') {
                    y -= movement[1]
                    console.log('moving up ',movement[1],' spaces!')
                }
            })
            console.log(x,y)
            let finalPos = x * y;
            return finalPos;
        }

        function formatArr(arr) {
            let newArr = new Array;
            arr.forEach(movement => {
                newArr.push(movement.split(' '))
                newArr[newArr.length-1][1] = parseInt(newArr[newArr.length-1][1])
            })
            return newArr
        }

        var openFile = function(event) {
            var input = event.target;
            var reader = new FileReader();
            reader.onload = function(){
                var text = reader.result;
                let input = text.trim().split('\n')
                var node = document.getElementById('output');
                let formattedInput = formatArr(input)
                node.innerText = solver(formattedInput);

            };
            reader.readAsText(input.files[0]);
      };
    </script>
</body>

</html> 